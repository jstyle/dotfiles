#+----------------------------------------------------------------------------------------+
#  セッションオプション
#+----------------------------------------------------------------------------------------+
#新しいウィンドウのベース番号
set -g base-index 1
#全てのベルを無視
set -g bell-action none
#各セッションで保持するバッファ数
#set -g history-limit 20 
set -g history-limit 4096
#256色端末を使用
#set -g default-terminal "screen-256color"
set -g default-terminal "xterm"
#ウィンドウ履歴で保持される最大行数
set -g history-limit 5000
#Escapeキー入力時の待ち時間(0.5秒)をキャンセル
set -s escape-time 0

#+----------------------------------------------------------------------------------------+
#  ステータスライン
#+----------------------------------------------------------------------------------------+
#status-left 及び status-right の非ASCII文字をUTF-8として扱う
set -g status-utf8 on 

set -g status-left-length 100
set -g status-right-length 50

set -g set-titles on
# www1.hoge.com→www1のみ表示。
set -g set-titles-string "@#(hostname | sed 's/\\\\..*//')"

# ステータスラインカスタム関連
set -g status-bg black
set -g status-fg white
set -g status-attr dim
# 左部:whoami@hostname
set -g status-left '#[fg=green,bold][#20(whoami)@#H:#S]#[default]'
# 右部:[2011/03/06(Sun)20:21]
set -g status-right '#[fg=green,bold][%Y/%m/%d(%a)%H:%M]#[default]'
set -g message-attr bold
set -g message-fg white
set -g message-bg red

set -g pane-active-border-fg white
set -g pane-active-border-bg black

setw -g mode-bg white
setw -g mode-fg black
setw -g window-status-bg black
setw -g window-status-fg white
setw -g window-status-current-bg green
setw -g window-status-current-fg black
setw -g window-status-current-attr bold#,underscore

#+----------------------------------------------------------------------------------------+
#  ウィンドウオプション
#+----------------------------------------------------------------------------------------+
#ウィンドウを実行コマンド名で自動リネーム
setw -g automatic-rename on
#スクロールモード、コピーモード、選択モードで vi のキーバインドを使う
setw -g mode-keys vi
#ウィンドウで動作があるとステータスラインでハイライト
setw -g monitor-activity on
#UTF-8 シーケンスが現れることに備える
setw -g utf8 on

#+----------------------------------------------------------------------------------------+
#  キーバインド
#+----------------------------------------------------------------------------------------+
#プレフィックスキーを設定
unbind C-b
set -g prefix C-t
bind C-t send-prefix

#C-Right,C-Leftでウィンドウ切り替え
#* Ctrl and arrow keys doesn't work in putty! What do I do?
#http://tmux.svn.sourceforge.net/viewvc/tmux/trunk/FAQ
set -g terminal-overrides "xterm*:kLFT5=\eOD:kRIT5=\eOC:kUP5=\eOA:kDN5=\eOB:smkx@:rmkx@:colors=256"
bind-key -n C-Right next-window
bind-key -n C-Left previous-window

#コピーモードに入る
bind-key y copy-mode
#ペーストバッファの内容をカレントウィンドウに挿入
bind-key p paste-buffer

#Yで一行コピー
#http://blog.m4i.jp/entry/2012/02/13/155233
bind-key -t vi-copy Y copy-line

#~/.tmux.conf をリロード
bind-key r source-file ~/.tmux.conf; display "Reloaded!"

#ペインを水平・垂直分割
bind-key s split-window -h
bind-key v split-window -v

#h,j,k,lでペインを切り替え
bind-key -n M-Left select-pane -L
bind-key -n M-Down select-pane -D
bind-key -n M-Up select-pane -U
bind-key -n M-Right select-pane -R

set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on
